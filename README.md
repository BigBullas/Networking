# Сетевые технологии

#### Образ виртуальной машины Linux [Ubuntu 20.04](https://github.com/iu5git/Standards/blob/main/Linux/Linux.md) для выполнения заданий курса

# Сети и Телекоммуникации

Первое ДЗ - диаграмма развёртывания для архитектуры и диаграмма последовательности для описания сетевого алгоритма.

Второе ДЗ - реализация программы. 

### Варианты ДЗ:
#### 1. Обмен статусами собеседников через WebSocket 
Необходимо реализовать механизм обмена сообщениями между двумя собеседниками по протоколу WebSocket. Должна быть предусмотрена гарантированная отправка: если сообщение было отправлено на сервер, оно должно быть доставлено получателю при его подключении.

Синхронизация версий: если какое-то сообщение пришло раньше-позже (вследствие задержек), то есть отображать нужно версии в порядке отправки. 

- Требования к приложению:
1. В системе должен быть сервер приложения и два клиента.
2. У клиентов должна быть возможность подключиться/отключиться с определенным идентификатором и отправить сообщение
3. Обмен по WebSocket и HTTP
4. Если установлено соединение с двумя клиентами с одним идентификатором, то сообщение должно появляться у обоих.

- Порядок показа:
1. При показе нужно установить соединение двух клиентов с сервером
2. В браузере нужно показать запрос на изменение протокола
2. Отправить сообщение по-очереди с двух клиентов
3. Отключить второй клиент и отправить после этого сообщения с первого
4. Подключить второй клиент - должна отобразиться корректная история сообщений. На сервере в логах нужно увидеть отправленные сообщения

[Пример взаимодействия через WebSocket](/Websocket)

#### 2. Отправка email, телеграм, vk через очередь сообщений
Необходимо разработать два сервиса для отправки сообщений: брокер с очередью сообщений и сервис отправки. У каждого студента один из источников (email, телеграм, vk) по варианту. За счет очереди должна быть предусмотрена гарантированная отправка в случае недоставки сообщения. Если сообщение не было доставлено, оно повторно отправляется из очереди.  

- Требования к приложению:
1. Брокер
2. Демонстрация с помощью клиентов почты/телеграм/vk

- Порядок показа:
1. При включенном подключении к интернету отправить сообщение в брокер. Сообщение должно быть отправлено один раз получателю
2. Отключить от интернета. В шлюзе сообщений должна быть видна история попыток отправить уведомление. После последней попытки должно быть выведено сообщение об ошибке/ручной обработке

Можно использовать `Redis`, `Apache Kafka`, `RabbitMQ`

[Пример установки Kafka через wsl](/kafka_wsl)

#### 3. Отправка, получение файлов в файловом хранилище 
Необходимо настроить файловое хранилище S3 и разработать методы доступа к нему. Хранилище необходимо для синхронизации двух узлов (условные клиент и сервер облака). Должна быть предусмотрена синхронизация, если одна из версий устарела (на клиенте не было интернета)

- Требования к приложению:
1. Клиент и сервер. На клиенте есть возможность загружать файлы и из отправлять
2. Обмен по HTTP

- Порядок показа:
1. Загрузить новый файл на клиент, отправить на сервер. Файл должен загрузиться на сервер
2. Обновить файл на сервере (напрямую или через второй клиент)
3. Попытаться отправить файл на клиенте повторно. Обновление на сервере не должно произойти, на клиент должна вернуться версия файла с сервера.

Рекомендуется использовать `ceph`

[Пример подключения S3](/S3)

#### 4. Сервис блокчейна
Необходимо реализовать функционал добавления клиентской информации (документа) в цепочку блоков, их подписью, и централизованным/децентрализованным хранением.

Рекомендуется использовать `ethereum`


# Курсовой проект

### Сроки
- 3 неделя: Тема, команда и черновое ТЗ
- 8 неделя: чистовое ТЗ, макет figma, диаграмма прецедентов, ER-диаграмма, диаграмма развертывания, swagger
- 12 неделя: полный комплект документов
- 14-15 неделя: защита, презентация по диаграммам (актуализировать), демонстрация, ответы на вопросы 

#### 3 участника команды
1. Frontend + аналитика: РП, часть РПЗ. Диаграммы прецедентов, sequence диаграмма запросов и действий. 
2. Backend + QA: ПМИ (в приложении результаты тестирования), часть РПЗ. ER-диаграмма, activity диаграмма
3. Интеграция + devops: РСА, часть РПЗ. Диаграмма развертывания, sequence диаграмма запросов или activity.

### Документация
1. До конца 12 неделе нужно прислать всю документацию: ТЗ, РПЗ, ПМИ, руководство пользователя и руководство администратора. Графическая часть: Deployment, ER, Use-Case, Activity и Sequence.
2. ТЗ - все требования к разрабатываемой системе. 
3. Совместный показ. Защита и ответы на вопросы у каждого по своей части.
4. Backend. ER, deployment. По характерному алгоритму нужно сделать activity и sequence diagram со стороны backend. Sequence diagram (отправка сообщения) - временная, соответственно timeline, основные компоненты backend, участвующие во взаимодействии и инициация взаимодействия от frontend
5. Frontend: Use Case. По характерному алгоритму нужно сделать activity и sequence diagram со стороны frontend. Sequence diagram (отправка сообщения) - временная, соответственно timeline, основные компоненты frontend, участвующие во взаимодействии и web-сервис backend
6. Сетевая (интеграционная) задача. По характерному алгоритму нужно activity и sequence diagram: SSO, микросервисы взаимодействия и S3
7. Руководство пользователя - фронтендер (более детально описание интерфейса и руководство по работе с приложением), руководство администратора - бекендер (системные требования, инструкция по развертыванию системы, для каких компонентов что потребуется). 
8. РПЗ - состоит из 2-3 частей, которые соответствуют каждому студенту: frontend (функции системы, ссылаетесь на use-case, описание пользовательского интерфейса по скриншоту, описание основного алгоритма взаимодействия по sequence, activity), backend (архитектура deployment, ER для описания базы данных и основные алгоритмы по sequence и activity), сетевая задача (архитектура deployment, основные алгоритмы по sequence и activity).
9. ПМИ (frontend, тот функционал, который он не может тестировать - бекендер и сетевик) - тестирование всего основного функционала приложения по пунктам заголовок, краткое описание с результатами и скриншот: отправка сообщения, авторизация, предоставление прав администратором пользователям, передача файла (у кого есть) и тд. При этом для сетевого функционала нужно привести результаты wireshark (то есть при обмене frontend-banckend bankend-network должны быть результаты с пакетами) компактно только характерные пакеты

#### Проверка документации
1. Аналог Контроль ВКР
2. Проверка на плагиат

### Демонстрация
1. На защите презентация по шаблону. Диаграммы должны читаться на презентации, должны быть видны на экране ноутбука. Начать с цели, сути приложения. Потом прецеденты - пользователи, функции системы.
2. Далее по deployment - какие компоненты, кто реализовал, какие сетевые протоколы между вашими узлами есть. 
3. Потом каждый по своей части. Упор на сетевое взаимодействие: кто какие ноды/компоненты делал, какие протоколы 
4. В демонстрации указать или вкладку Network, или wireshark (особенно для тех, где есть сетевая задача) - сделать филтрацию по IP и протоколу для этого

### Темы
1. Передача по web-socket. Сообщения/уведомления. Гарантированная отправка, новые сообщения, если старые не пришли, новые в приоритете. Случайная задержка на 1 мин
2. Микросервисы уведомлений: почта, telegram, vk. Бизнес-логика отправки разных событий. Гарантированная отправка через очередь сообщений с повторной отправкой при не достижении одного из клиентов. Случайная отмена
3. S3-хранилище: синхронизация нескольких клиентов разных пользователей в облаке. Файлы, видео, музыка, заметки, фото. Локальные папки, облачные, расшаренные. Случайная пауза в проёме данных на 1 мин
4. Блокчейн игра?

#### Варианты
1. Тема 2. Приоритетная отправка при недоставке - уведомление, смс, почта
- Фронтенд + аналитика: интерфейс отправки сообений 
- Бекенд : реализация отправки сообщений, реализация повторной отправки сообщений при недоставке с учетом приоритета
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
2. Тема 3. Облачный календарь. Разрыв соединения и подключение. 
- Фронтенд + аналитика: интерфейс календаря
- Бекенд : реализация календаря (создание, удаления, изменения событий в календаре)
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
3. Тема 3. Облачные заметки. Разрыв соединения и подключение. 
- Фронтенд + аналитика: интерфейс заметок
- Бекенд : реализация создания, редактирования, удаления  заметок
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
4. Тема 3. Облачные напоминания. Разрыв соединения и подключение. 
- Фронтенд + аналитика: интерфейс напоминаний
- Бекенд : реализация создания, редактирования, удаления  напоминаний
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
5. Тема 2. Банк. Приоритетная отправка при недоставке - уведомление, смс, почта
- Фронтенд + аналитика: интерфейс банка
- Бекенд : реализация отправки денег, реализация повторной отправки денег при недоставке с учетом приоритета
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
6. Тема 3. Одновременная правка документа двумя пользователями через web socket - как Гугл-док
- Фронтенд + аналитика: интерфейс документа для редактирования
- Бекенд : реализация создания, совместного редактирования, удаления  документа
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
7. Тема 2. Redis данные с криостата - система автоматической калибровки
- Фронтенд + аналитика: интерфейс отображения данных
- Бекенд : реализация сбора и сохранения данных с криостата
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание Redis
8. Тема 2. Облачный вычислитель для криостата через очередь
- Фронтенд + аналитика: интерфейс вычислителя
- Бекенд : реализация вычислений и сохранения результатов в очереди
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
9. Тема 1. Умный дом через веб-сокет
- Фронтенд + аналитика: интерфейс настройки умного дома
- Бекенд : реализация управления умным домом через web-socket
- Интеграция + развертывание: развертывание приложения, БД
10. Тема 1. Сайт для конференции
- Фронтенд + аналитика: интерфейс сайта для конференции
- Бекенд : реализация создания конференций через web-socket
- Интеграция + развертывание: развертывание приложения, БД
11. Тема 1. Система для дистанционного зондирования и передачи данных
- Фронтенд + аналитика: интерфейс сайта для дистанционного зондирования
- Бекенд : реализация зондирования и передачи данных через web-socket
- Интеграция + развертывание: развертывание приложения, БД
12. Тема 1. Чат с реакциями и ответами пользователей
- Фронтенд + аналитика: интерфейс чата
- Бекенд : реализация чата через web-socket
- Интеграция + развертывание: развертывание приложения, БД
13. Тема 1. Сайт знакомств с чатом для общения
- Фронтенд + аналитика: интерфейс сайта знакомств
- Бекенд : реализация чата на сайте через web-socket, реализация создания пар и чатов 
- Интеграция + развертывание: развертывание приложения, БД
14. Тема 1. Сайт объявлений с чатом (Авито).
- Фронтенд + аналитика: интерфейс сайта объявлений
- Бекенд : реализация чата через web-socket, реализация создания объявлений и чатов по ним
- Интеграция + развертывание: развертывание приложения, БД
15. Тема 1. Социальная сеть (список друзей с возможностью общаться)
- Фронтенд + аналитика: интерфейс списка друзей и чатов
- Бекенд : реализация чата через web-socket, реализация создания профиля
- Интеграция + развертывание: развертывание приложения, БД
16. Тема 1. Сайт текстовых трансляций
- Фронтенд + аналитика: интерфейс текстовой трансляции
- Бекенд : реализация ведения трансляции через web-socket, реализация создания трансляции
- Интеграция + развертывание: развертывание приложения, БД
17. Тема 1. Сайт тематических форумов
- Фронтенд + аналитика: интерфейс тематических форумов
- Бекенд : реализация ведения тематических форумов через web-socket, реализация создания форумов
- Интеграция + развертывание: развертывание приложения, БД
18. Тема 1. Трейдорское приложение (обновление цен акций в реальном времени)
- Фронтенд + аналитика: интерфейс трейдорского приложения
- Бекенд : реализация обновление цен акций через web-socket
- Интеграция + развертывание: развертывание приложения, БД
19. Тема 2. Чат с уведомлениями. (При подключение идет проверка наличия уведомлений)
- Фронтенд + аналитика: интерфейс чата с уведомлениями
- Бекенд : реализация ведения чата с уведомлениями через web-socket, реализация сохранения сообщений в очереди
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
20. Тема 2. Отслеживания состояния очереди. (Сколько сообщений, содержание каждого сообщения, кто потребитель, отправлено/не отправлено)
- Фронтенд + аналитика: интерфейс состояния очереди
- Бекенд : реализация отслеживания состояния очереди через web-socket
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
21. Тема 2. Отправка сообщений с задержкой/в определенное время.
- Фронтенд + аналитика: интерфейс чата
- Бекенд : реализация ведения чата с сообщениями с задержкой, реализация сохранения сообщений в очереди
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
22. Тема 2. Асинхронный расчет данных с помощью очереди
- Фронтенд + аналитика: интерфейс ввода данных для рассчета
- Бекенд : реализация ассинхронного расчета данных с сохранением результата в БД, реализация сохранения сообщений в очереди
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
23. Тема 2. Сервис подписок на рассылки в Телеграм с помощью очереди.
- Фронтенд + аналитика: интерфейс списка доступных рассылок для подписки
- Бекенд : реализация подписок на рассылки в Телеграм с помощью очереди
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
24. Тема 2. Использование Redis для аварийного восстановления системы (восстановление системы с прмежуточного состояния)
- Фронтенд + аналитика: интерфейс отслеживания состояния системы
- Бекенд : реализация аварийного восстановления системы, сохранение промежуточного состояния системы в Redis
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание Redis
25. Тема 2. Сервис создания и обработки заявок. (Все что подгрузилось из очереди пометить, как NEW. Старые заявки - OLD)
- Фронтенд + аналитика: интерфейс создания и обработки заявок
- Бекенд : реализация создания и обработки заявок с помощью очереди
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
26. Тема 2. Асинхронная загрузка страницы с помощью кеша на Redis
- Фронтенд + аналитика: интерфейс страницы на выбор
- Бекенд : реализация передачи кешированных данных, сохранение промежуточных данных в Redis
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание Redis
27. Тема 3. Облачное хранилище фалов с синхронизацией
- Фронтенд + аналитика: интерфейс хранилища
- Бекенд : реализация создания, редактирования, удаления  файлов с синхронизацией
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
28. Тема 3. Хостинг и отображение изображений из S3. Обновление изображений
- Фронтенд + аналитика: интерфейс хранилища изображений
- Бекенд : реализация создания, редактирования, удаления изображений с синхронизацией
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
29. Тема 3. Хостинг и отображение музыки из S3. Обновление музыки
- Фронтенд + аналитика: интерфейс хранилища музыки
- Бекенд : реализация создания, редактирования, удаления музыки с синхронизацией
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
30. Тема 3. Хостинг и отображение видео из S3. Обновление видео
- Фронтенд + аналитика: интерфейс хранилища видео
- Бекенд : реализация создания, редактирования, удаления видео с синхронизацией
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
31. Тема 3. Интеграция с S3. Синхронизация локального хранилища и S3
- Фронтенд + аналитика: интерфейс удаленного хранилища
- Бекенд : реализация создания, редактирования, удаления музыки с синхронизацией с локальным хранилищем
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
32. Тема 3. Интеграция с S3. Загрузка частичных изменений текстовых файлов в облачное хранилище
- Фронтенд + аналитика: интерфейс удаленного хранилища
- Бекенд : реализация создания, редактирования, удаления музыки с синхронизацией с загрузкой частичных изменений текстовых файлов в облачное хранилище
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
33. Тема 3. Интеграция с S3. История изменений файлов в хранилище
- Фронтенд + аналитика: интерфейс удаленного хранилища
- Бекенд : реализация создания, редактирования, удаления музыки с синхронизацией с историей изменений файлов в хранилище
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
34. Тема 3. Интеграция с S3. Уведомления об обновление файлов на сервере/локально при заходе в систему
- Фронтенд + аналитика: интерфейс удаленного хранилища
- Бекенд : реализация создания, редактирования, удаления музыки с синхронизацией с уведомлениями об обновление файлов на сервере/локально при заходе в систему
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
35. Тема 3. Интеграция с S3. Возможность постановки на паузу и одновременная загрузка нескольких файлов
- Фронтенд + аналитика: интерфейс удаленного хранилища
- Бекенд : реализация создания, редактирования, удаления музыки с синхронизацией с возможностью постановки на паузу и одновременная загрузка нескольких файлов
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание S3
36. Тема 2. Отмена отправки сообщений через очередь (те, кто успел получить - получили, те, кто не успел - не должны получить)
- Фронтенд + аналитика: интерфейс создания сообщений в чате
- Бекенд : реализация создания и обработки сообщений с помощью очереди с отменой отправки
- Интеграция + развертывание: развертывание приложения, БД, настройка и развертывание инструмента для реализации очереди (Kafka и т.д.)
37. ...
38. ...
39. ...
40. ...
41. ...
42. ...
43. ...
44. ...
45. ...
46. ...
47. ...
48. ...
49. ...
50. ...

#### Команда курса выражает благодарность за помощь в подготовке материалов для данного курса
1. Коновалов Максим Владиславович
2. Балабанов Алексей Олегович
3. Торжков Максим Сергеевич
